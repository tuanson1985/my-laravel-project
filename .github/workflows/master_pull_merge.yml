name: Deploy test ssh

on:
  push:
    branches: [ "main" ]

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v4
      with:
        fetch-depth: 1
    - name: Create .env
        run: |
          echo 'APP_NAME=${{ secrets.APP_NAME }}' >> .env
          echo 'APP_ENV=${{ secrets.APP_ENV }}' >> .env
          echo 'APP_KEY=${{ secrets.APP_KEY }}' >> .env
          echo 'APP_DEBUG=false' >> .env
          echo 'APP_TIMEZONE=${{ secrets.APP_TIMEZONE }}' >> .env
          echo 'APP_URL=${{ secrets.APP_URL }}' >> .env
          echo 'BCRYPT_ROUNDS=${{ secrets.BCRYPT_ROUNDS }}' >> .env
          echo 'DB_CONNECTION=${{ secrets.DB_CONNECTION }}' >> .env
          echo 'DB_HOST=${{ secrets.DB_HOST }}' >> .env
          echo 'DB_DATABASE=${{ secrets.DB_DATABASE }}' >> .env
          echo 'DB_USERNAME=admin' >> .env
          echo 'DB_PASSWORD= RZa7hp1TCbSa' >> .env
          echo 'SESSION_DRIVER=${{ secrets.SESSION_DRIVER }}' >> .env
          echo 'SESSION_ENCRYPT=false' >> .env
          echo 'SESSION_PATH=/' >> .env
          echo 'SESSION_DOMAIN=null' >> .env
          echo 'BROADCAST_CONNECTION=${{ secrets.BROADCAST_CONNECTION }}' >> .env
          echo 'FILESYSTEM_DISK=${{ secrets.FILESYSTEM_DISK }}' >> .env
          echo 'QUEUE_CONNECTION=${{ secrets.QUEUE_CONNECTION }}' >> .env
          echo 'CACHE_STORE=${{ secrets.CACHE_STORE }}' >> .env
          echo 'MEMCACHED_HOST=${{ secrets.MEMCACHED_HOST }}' >> .env
          echo 'REDIS_CLIENT=${{ secrets.REDIS_CLIENT }}' >> .env
          echo 'REDIS_HOST=${{ secrets.REDIS_HOST }}' >> .env
          echo 'REDIS_PASSWORD=null' >> .env
          echo 'REDIS_PORT=${{ secrets.REDIS_PORT }}' >> .env
          echo 'MAIL_MAILER=${{ secrets.MAIL_MAILER }}' >> .env
          echo 'MAIL_HOST=${{ secrets.MAIL_HOST }}' >> .env
          echo 'MAIL_PORT=${{ secrets.MAIL_PORT }}' >> .env
          echo 'MAIL_USERNAME=null' >> .env
          echo 'MAIL_PASSWORD=null' >> .env
          echo 'MAIL_ENCRYPTION=null' >> .env
          echo 'MAIL_FROM_ADDRESS=hello@example.com' >> .env
          echo 'MAIL_FROM_NAME=APP_NAME' >> .env
          echo 'VITE_APP_NAME=${{ secrets.APP_NAME }}' >> .env
